---
layout: post
title: "NumPy : 배열과 벡터 연산#1"
date: 2019-12-13 17:00:00 +09:00
author: "ONE"
permalink: /Numpy-1/
image:
  feature: numpy/numpy.png
categories:
  - Python을 활용한 데이터 분석
tags:
  - 그로스해커
  - 그로스해킹
  - 파이썬데이터분석
  - numpy
description: Numpy를 활용한 데이터 분석#1
---
### 1. Numpy를 사용하는 이유

Numpy가 파이썬 산술 계산 영역에서 중요한 위치를 차지하는 이유 중 하나는 대용량 데이터 배열을 효율적으로 다룰 수 있도록 설계되었다는 점이다.



Numpy는 내부적으로 데이터를 다른 내장 파이썬 객체와 구분된 연속된 메모리 블록에 저장하는데, 이것은 곧 Numpy로 생성된 배열은 내장 파이썬의 연속된 자료형들보다 훨씬 더 적은 메모리를 사용한다는 소리다.



또한 Numpy의 각종 알고리즘은 모두 C로 작성되어 타입 검사나 다른 오버헤드 없이 메모리를 직접 조작할 수 있다. 그렇기에 Numpy 연산은 파이썬 반복문을 사용하지 않고 전체 배열에 대한 복잡한 계산을 수행할 수 있다. 코드를 활용하여 Numpy의 성능을 체크해 보도록 하자.

<br><br><br>

![Numpy1-1](/img/post/Numpy1/Numpy1-1.png)

Numpy 라이브러리를 선언 후 sw_arr에 Numpy을 활용한 배열을, sw_list에 list를 활용한 리스트를 작성했다. 이제 각각의 배열과 리스트의 원소에 2를 곱해보자.

<br><br><br>

![Numpy1-2](/img/post/Numpy1/Numpy1-2.png)

각 배열과 리스트에 2를 곱하는 연산의 속도를 계산한 결과 Numpy를 사용한 코드가 순수 파이썬으로 작성한 코드보다 여섯 배 정도 차이 나는 것을 확인할 수 있다. 다른 사례에서는 열 배에서 백 배 이상 빠르고 메모리도 더 적게 사용하는 것을 확인할 수 있다고 한다.

<br>

------

<br>

### 2. 다차원 배열 객체 : Numpy ndarray

Numpy의 핵심 기능 중 하나는 ndrray라고 하는 N차원의 배열 객체인데 파이썬에서 사용할 수 있는 대규모 데이터 집합을 담을 수 있는 빠르고 유연한 자료구조이다. 배열은 스칼라 원소 간의 연산에 사용하는 문법과 비슷한 방식을 사용해서 전체 데이터 블록에 수학적인 연산을 수행할 수 있도록 해준다.

<br>

파이썬 내장 객체의 스칼라값을 다루는 것과 유사한 방법으로 배치 계산을 처리하는 방법을 알아보자. 우선 Numpy 패키지를 임포트하고 임의의 값이 들어 있는 작은 배열을 만들어보겠다.

<br><br><br>

![Numpy1-3](/img/post/Numpy1/Numpy1-3.png)

랜덤 한 값들을 가진 배열이 생성됐다. 이제 산술 연산을 해보자.

<br><br><br>

![Numpy1-4](/img/post/Numpy1/Numpy1-4.png)

첫 번째는 모든 원소의 값에 10을 곱했다. 두 번째는 sw_data 배열에서 같은 위치의 값끼리 서로 더했다. ndarray는 같은 종류의 데이터를 담을 수 있는 포괄적인 다차원 배열이다. ndarray의 모든 원소는 같은 자료형이어야 한다. 모든 배열은 각 차원의 크기를 알려주는 shape라는 튜플과 배열에 저장된 자료형을 알려주는 dtype라는 객체를 가지고 있다. 하단의 코드로 확인해보자.

![Numpy1-5](/img/post/Numpy1/Numpy1-5.png)